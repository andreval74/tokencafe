<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerenciador de Carteira Web3 - TokenCafe</title>
    <meta name="description"
        content="Conecte e gerencie sua carteira Web3 com MetaMask, TrustWallet e outras carteiras">
    <meta name="keywords" content="wallet, MetaMask, TrustWallet, blockchain, crypto, Web3">

    <!-- Favicons -->
    <link rel="icon" type="image/png" sizes="16x16" href="../../../imgs/tkncafe16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../imgs/tkncafe32x32.png">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

    <!-- TokenCafe Global CSS -->
    <link href="../../../css/styles.css" rel="stylesheet">

    <!-- Ethers.js -->
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>

</head>

<body class="bg-page-black">

    <!-- Header padrão com status de carteira (componente) -->
    <div data-component="tools-header.html"
         data-icon="fa-wallet"
         data-icon-alt="TokenCafe"
         data-title="Gerenciador de Carteira Web3"
         data-subtitle="Conecte e gerencie sua carteira Web3">
    </div>

    <!--corpo do html-->
    <div class="container-fluid py-3 md-1">
        <div class="row justify-content-center">
            <div class="col-lg-8 col-xl-6">

                <!-- Seção 1: Conexão da Carteira -->
                <div class="mb-1" id="connection-section">
                    <div class="d-flex align-items-center mb-1">
                        <div class="me-3">
                            <i class="bi bi-wallet section-icon fs-4"></i>
                        </div>
                        <div class="flex-grow-1">
                            <h4 class="mb-0">1. Conectar Carteira Web3</h4>
                        </div>
                    </div>

                    <div id="connectionStatus" class="alert alert-info d-none mb-3" role="alert">
                        <i class="bi bi-info-circle me-2"></i>
                        <span id="statusMessage">Verificando carteiras disponíveis...</span>
                    </div>

                    <div class="d-grid gap-2 mb-3">
                        <button id="connectWallet" class="btn btn-primary btn-lg">
                            <i class="bi bi-link-45deg me-2"></i>
                            Conectar Carteira
                        </button>
                    </div>
                </div>

                <!-- Seção 2: Informações da Carteira (inicialmente oculta) -->
                <div class="mb-4 d-none" id="wallet-info-section">
                    <div class="d-flex align-items-center mb-2">
                        <div class="me-3">
                            <i class="bi bi-person-circle section-icon fs-4"></i>
                        </div>
                        <div class="flex-grow-1">
                            <h4 class="mb-0">2. Informações da Carteira</h4>
                            <p class="text-muted mb-0">Detalhes da sua carteira conectada</p>
                        </div>
                    </div>

                    <div class="row g-3 mb-3">
                        <div class="col-12">
                            <label for="walletAddress" class="form-label">Endereço da Carteira</label>
                            <div class="input-group">
                                <input id="walletAddress" class="form-control monospace-input" readonly>
                                <button class="btn btn-outline-secondary" id="copyAddressBtn" type="button"
                                    title="Copiar Endereço">
                                    <i class="bi bi-clipboard"></i>
                                </button>
                                <button class="btn btn-outline-info" id="shareAddressBtn" type="button"
                                    title="Compartilhar Endereço">
                                    <i class="bi bi-share"></i>
                                </button>
                                <button class="btn btn-outline-primary" id="viewAddressBtn" type="button"
                                    title="Visualizar na Rede">
                                    <i class="bi bi-eye"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="row g-3 mb-3">
                        <div class="col-md-6">
                            <label for="networkName" class="form-label">Nome da Rede</label>
                            <input id="networkName" class="form-control" readonly>
                        </div>
                        <div class="col-md-6">
                            <label for="chainId" class="form-label">Chain ID</label>
                            <div class="input-group">
                                <input id="chainId" class="form-control monospace-input" readonly>
                                <button class="btn btn-outline-secondary" id="copyChainIdBtn" type="button"
                                    title="Copiar Chain ID">
                                    <i class="bi bi-clipboard"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="row g-3 mb-3">
                        <div class="col-md-4">
                            <label for="nativeCurrency" class="form-label">Moeda Nativa</label>
                            <input id="nativeCurrency" class="form-control" readonly>
                        </div>
                        <div class="col-md-4">
                            <label for="currencySymbol" class="form-label">Símbolo</label>
                            <input id="currencySymbol" class="form-control" readonly>
                        </div>
                        <div class="col-md-4">
                            <label for="balance" class="form-label">Saldo Atual</label>
                            <input id="balance" class="form-control" readonly>
                        </div>
                    </div>

                    <div class="row g-3 mb-3">
                        <div class="col-md-6">
                            <label for="rpcUrl" class="form-label">RPC URL</label>
                            <div class="input-group">
                                <input id="rpcUrl" class="form-control monospace-input" readonly>
                                <button class="btn btn-outline-secondary" id="copyRpcBtn" type="button"
                                    title="Copiar RPC URL">
                                    <i class="bi bi-clipboard"></i>
                                </button>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <label for="explorerUrl" class="form-label">Block Explorer URL</label>
                            <div class="input-group">
                                <input id="explorerUrl" class="form-control monospace-input" readonly>
                                <button class="btn btn-outline-primary" id="openExplorerBtn" type="button"
                                    title="Abrir Block Explorer">
                                    <i class="bi bi-box-arrow-up-right"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="customRpcs" class="form-label">RPCs Personalizados</label>
                        <textarea id="customRpcs" class="form-control monospace-input" rows="3" readonly
                            placeholder="Nenhum RPC personalizado configurado"></textarea>
                    </div>
                </div>
                <!-- Seção 3: Ações da Carteira (inicialmente oculta) -->
                <div class="mb-4 d-none" id="wallet-actions-section">
                    <div class="d-grid gap-2">
                        <button id="clearDataBtn" class="btn btn-dark btn-lg mb-2">
                            <i class="bi bi-arrow-clockwise me-2 fs-4"></i>
                            Limpar Dados e Recomeçar
                        </button>
                        <button id="disconnectWallet" class="btn btn-outline-danger btn-lg">
                            <i class="bi bi-x-circle me-2"></i>
                            Desconectar Carteira
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- scripts -->
    <script type="module" src="../../../js/shared/base-system.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/web3modal@1.9.12/dist/index.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    <script src="../../../js/modules/wallet/script.js"></script>

</body>

</html>