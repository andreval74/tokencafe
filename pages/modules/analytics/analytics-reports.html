<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Analytics Reports - TokenCafe</title>
    <link rel="stylesheet" href="../../../css/styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- M√≥dulo: Analytics e Relat√≥rios -->
    <div class="module-container" id="analytics-module">
        
        <!-- Header do M√≥dulo -->
        <div class="module-header">
            <div class="module-title">
                <h1>üìä Analytics</h1>
                <p>Acompanhe o desempenho dos seus tokens e widgets</p>
            </div>
            <div class="module-actions">
                <select id="time-range-selector" class="select-input">
                    <option value="7d">√öltimos 7 dias</option>
                    <option value="30d" selected>√öltimos 30 dias</option>
                    <option value="90d">√öltimos 90 dias</option>
                    <option value="1y">√öltimo ano</option>
                </select>
                <button class="btn btn-secondary" onclick="exportReport()">
                    <i class="fas fa-download"></i> Exportar
                </button>
                <button class="btn btn-primary" onclick="refreshAnalytics()">
                    <i class="fas fa-sync-alt"></i> Atualizar
                </button>
            </div>
        </div>

        <!-- Cards de Resumo -->
        <div class="analytics-summary">
            <div class="summary-card">
                <div class="summary-icon">ü™ô</div>
                <div class="summary-content">
                    <h3 id="total-tokens">0</h3>
                    <p>Tokens Criados</p>
                    <span class="summary-change positive" id="tokens-change">+0%</span>
                </div>
            </div>
            
            <div class="summary-card">
                <div class="summary-icon">üë•</div>
                <div class="summary-content">
                    <h3 id="total-holders">0</h3>
                    <p>Total de Holders</p>
                    <span class="summary-change positive" id="holders-change">+0%</span>
                </div>
            </div>
            
            <div class="summary-card">
                <div class="summary-icon">üí∞</div>
                <div class="summary-content">
                    <h3 id="total-volume">$0</h3>
                    <p>Volume Total</p>
                    <span class="summary-change positive" id="volume-change">+0%</span>
                </div>
            </div>
            
            <div class="summary-card">
                <div class="summary-icon">üîÑ</div>
                <div class="summary-content">
                    <h3 id="total-transactions">0</h3>
                    <p>Transa√ß√µes</p>
                    <span class="summary-change positive" id="transactions-change">+0%</span>
                </div>
            </div>
        </div>

        <!-- Gr√°ficos Principais -->
        <div class="analytics-charts">
            
            <!-- Gr√°fico de Volume -->
            <div class="chart-container">
                <div class="chart-header">
                    <h3>üìà Volume de Transa√ß√µes</h3>
                    <div class="chart-controls">
                        <button class="chart-btn active" data-chart="volume" data-type="line">Linha</button>
                        <button class="chart-btn" data-chart="volume" data-type="bar">Barras</button>
                    </div>
                </div>
                <div class="chart-wrapper">
                    <canvas id="volume-chart"></canvas>
                </div>
            </div>

            <!-- Gr√°fico de Holders -->
            <div class="chart-container">
                <div class="chart-header">
                    <h3>üë• Crescimento de Holders</h3>
                    <div class="chart-controls">
                        <button class="chart-btn active" data-chart="holders" data-type="line">Linha</button>
                        <button class="chart-btn" data-chart="holders" data-type="area">√Årea</button>
                    </div>
                </div>
                <div class="chart-wrapper">
                    <canvas id="holders-chart"></canvas>
                </div>
            </div>

        </div>

        <!-- Gr√°ficos Secund√°rios -->
        <div class="analytics-secondary">
            
            <!-- Distribui√ß√£o por Tipo -->
            <div class="chart-container half-width">
                <div class="chart-header">
                    <h3>üéØ Distribui√ß√£o por Tipo</h3>
                </div>
                <div class="chart-wrapper">
                    <canvas id="type-distribution-chart"></canvas>
                </div>
            </div>

            <!-- Top Tokens -->
            <div class="chart-container half-width">
                <div class="chart-header">
                    <h3>üèÜ Top Tokens por Volume</h3>
                </div>
                <div class="chart-wrapper">
                    <canvas id="top-tokens-chart"></canvas>
                </div>
            </div>

        </div>

        <!-- Tabela de Detalhes -->
        <div class="analytics-table">
            <div class="table-header">
                <h3>üìã Detalhes por Token</h3>
                <div class="table-controls">
                    <input type="text" id="table-search" placeholder="Buscar token..." class="search-input" />
                    <select id="table-sort" class="select-input">
                        <option value="volume">Volume</option>
                        <option value="holders">Holders</option>
                        <option value="transactions">Transa√ß√µes</option>
                        <option value="created">Data de Cria√ß√£o</option>
                    </select>
                </div>
            </div>
            
            <div class="table-container">
                <table id="analytics-table">
                    <thead>
                        <tr>
                            <th>Token</th>
                            <th>Tipo</th>
                            <th>Holders</th>
                            <th>Volume (30d)</th>
                            <th>Transa√ß√µes</th>
                            <th>Varia√ß√£o</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="analytics-table-body">
                        <!-- Dados carregados dinamicamente -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Loading State -->
        <div class="loading-state" id="analytics-loading" style="display: none;">
            <div class="spinner"></div>
            <p>Carregando analytics...</p>
        </div>

    </div>

    <!-- Modal: Detalhes Avan√ßados -->
    <div class="modal" id="advanced-analytics-modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3>Analytics Avan√ßado</h3>
                <button class="close-btn" onclick="closeModal('advanced-analytics-modal')">&times;</button>
            </div>
            <div class="modal-body" id="advanced-analytics-content">
                <!-- Conte√∫do carregado dinamicamente -->
            </div>
        </div>
    </div>

    <script src="../../../js/modules/analytics/analytics-reports.js"></script>
</body>
</html>
